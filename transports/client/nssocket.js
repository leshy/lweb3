// Generated by CoffeeScript 1.7.1
(function() {
  var Backbone, helpers, nssocket, nssocketClient, subscriptionMan, v, validator, _;

  _ = require('underscore');

  Backbone = require('backbone4000');

  helpers = require('helpers');

  subscriptionMan = require('subscriptionman2');

  validator = require('validator2-extras');

  v = validator.v;

  nssocket = require('nssocket');

  _.extend(exports, require('../nssocket'));

  nssocketClient = exports.nssocketClient = exports.nssocketChannel.extend4000({
    defaults: {
      name: 'nssocketClient'
    },
    initialize: function() {
      this.set({
        nssocket: this.nssocket = nssocket.NsSocket({
          reconnect: true,
          type: 'tcp4'
        })
      });
      this.nssocket.connect(this.get('host'), this.get('port'));
      this.nssocket.on('start', (function(_this) {
        return function() {
          return _this.trigger('connect');
        };
      })(this));
      return this.nssocket.on('close', (function(_this) {
        return function() {
          return _this.trigger('disconnect');
        };
      })(this));
    },
    end: function() {
      return this.nssocket.disconnect();
    }
  });

}).call(this);
